<div class="card h-100 border-0 shadow-sm event-card-modern">
  <div class="card-img-wrapper position-relative overflow-hidden">
    {% if event.thumbnail %}
    <img src="{{ event.thumbnail.url }}" class="card-img-top event-thumbnail" alt="{{ event.title }}">
    {% else %}
    <div class="bg-dark text-white d-flex align-items-center justify-content-center event-thumbnail-placeholder">
      <i class="bi bi-camera-video-off fs-1 opacity-50"></i>
    </div>
    {% endif %}

    <div class="position-absolute top-0 end-0 p-3">
      {% if event.is_live %}
      <span class="badge bg-danger rounded-pill shadow-sm animate__animated animate__pulse animate__infinite px-3 py-2">
        <i class="bi bi-broadcast me-1"></i> EN DIRECTE
      </span>
      {% elif event.is_upcoming %}
      <span class="badge bg-white text-primary rounded-pill shadow-sm px-3 py-2">
        <i class="bi bi-calendar-event me-1"></i> PROGRAMAT
      </span>
      {% elif event.status == 'cancelled' %}
      <span class="badge bg-dark rounded-pill shadow-sm px-3 py-2">
        <i class="bi bi-x-circle me-1"></i> CANCELÂ·LAT
      </span>
      {% endif %}
    </div>

    <div class="category-badge position-absolute bottom-0 start-0 p-3">
      <span class="badge bg-glass text-white border border-white border-opacity-25 rounded-pill px-3">
        {{ event.get_category_display }}
      </span>
    </div>
  </div>

  <div class="card-body d-flex flex-column p-4">
    <div class="mb-2 text-muted small fw-bold text-uppercase tracking-wide">
      {{ event.scheduled_date|date:"d M Y" }} &bull; {{ event.scheduled_date|date:"H:i" }}
    </div>

    <h5 class="card-title fw-bold mb-3">
      <a href="{{ event.get_absolute_url }}" class="text-decoration-none text-dark stretched-link title-hover">
        {{ event.title }}
      </a>
    </h5>

    <div class="mt-auto d-flex align-items-center pt-3 border-top">
      <div class="d-flex align-items-center flex-grow-1">
        <div class="avatar-circle bg-primary text-white me-2 d-flex align-items-center justify-content-center fw-bold">
          {{ event.creator.username|slice:":1"|upper }}
        </div>
        <span class="text-muted small fw-medium">
          {{ event.creator.username }}
        </span>
      </div>
      <div class="text-muted small">
        <i class="bi bi-people-fill me-1"></i> {{ event.max_viewers }}
      </div>
    </div>
  </div>
</div>

<style>
  .event-card-modern {
    border-radius: 16px;
    transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
    overflow: hidden;
  }

  .event-card-modern:hover {
    transform: translateY(-8px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1) !important;
  }

  .card-img-wrapper {
    height: 220px;
  }

  .event-thumbnail {
    height: 100%;
    width: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
  }

  .event-card-modern:hover .event-thumbnail {
    transform: scale(1.05);
  }

  .event-thumbnail-placeholder {
    height: 100%;
    width: 100%;
  }

  .bg-glass {
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(4px);
  }

  .tracking-wide {
    letter-spacing: 0.05em;
  }

  .title-hover {
    background-image: linear-gradient(to right, #0d6efd, #0d6efd);
    background-size: 0% 2px;
    background-repeat: no-repeat;
    background-position: left bottom;
    transition: background-size 0.3s;
  }

  .event-card-modern:hover .title-hover {
    background-size: 100% 2px;
  }

  .avatar-circle {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    font-size: 0.8rem;
  }
</style>